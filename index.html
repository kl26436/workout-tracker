<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#0d1117">
    <title>Big Surf - Workout Tracker</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <img src="BigSurf.png" alt="Big Surf Logo" class="logo-img" 
                 onerror="this.style.display='none'; document.querySelector('.logo-fallback').style.display='flex'">
            <div class="logo-fallback" style="display: none;">BS</div>
        </header>

        <!-- Auth Section -->
        <div id="auth-section" class="workout-controls">
            <button id="google-signin-btn" class="btn btn-primary">
                <i class="fab fa-google"></i> Sign In with Google
            </button>
            <div id="user-info" class="hidden"></div>
        </div>

        <!-- Navigation (if you want to keep tabs) -->
        <nav class="nav-tabs" style="display: none;">
            <button class="nav-tab active" data-tab="today">
                <i class="fas fa-dumbbell"></i> Today's Workout
            </button>
            <button class="nav-tab" data-tab="history">
                <i class="fas fa-history"></i> History
            </button>
            <button class="nav-tab" data-tab="plans">
                <i class="fas fa-calendar-alt"></i> Plans
            </button>
        </nav>

        <!-- Today's Date Display -->
        <div class="today-header">
            <h2 id="today-date-display">Today - Loading...</h2>
            <p class="today-subtitle">Choose your workout and start tracking</p>
            
            <!-- Add Management Button Here -->
            <div style="margin-top: 1rem;">
                <button class="btn btn-secondary" onclick="showWorkoutManagement()" style="margin-right: 0.5rem;">
                    <i class="fas fa-cog"></i> Manage Workouts
                </button>
                <button class="btn btn-secondary" onclick="showWorkoutSelector()" id="back-to-workouts-btn" style="display: none;">
                    <i class="fas fa-arrow-left"></i> Back to Workouts
                </button>
            </div>
        </div>

        <!-- Workout Selector -->
        <div id="workout-selector">
            <div class="workout-grid">
                <div class="workout-option" data-workout="Chest – Push">
                    <i class="fas fa-hand-paper"></i>
                    <span>Chest & Push</span>
                </div>
                <div class="workout-option" data-workout="Back – Pull">
                    <i class="fas fa-hand-rock"></i>
                    <span>Back & Pull</span>
                </div>
                <div class="workout-option" data-workout="Legs – Quad Focus">
                    <i class="fas fa-walking"></i>
                    <span>Legs (Quads)</span>
                </div>
                <div class="workout-option" data-workout="Legs – Posterior Focus">
                    <i class="fas fa-running"></i>
                    <span>Legs (Glutes/Hams)</span>
                </div>
                <div class="workout-option" data-workout="Cardio + Core">
                    <i class="fas fa-heartbeat"></i>
                    <span>Cardio & Core</span>
                </div>
                <div class="workout-option" data-workout="Cardio / Abs / Mobility">
                    <i class="fas fa-spa"></i>
                    <span>Recovery Day</span>
                </div>
            </div>
        </div>

        <!-- Active Workout -->
        <div id="active-workout" class="hidden">
            <!-- Global Settings -->
            <div class="global-settings">
                <div>
                    <span style="color: var(--text-secondary); font-size: 0.875rem;">Default Units:</span>
                    <div class="unit-toggle">
                        <button class="unit-btn active" data-unit="lbs">lbs</button>
                        <button class="unit-btn" data-unit="kg">kg</button>
                    </div>
                </div>
            </div>

            <!-- Workout Header -->
            <div class="workout-header">
                <div class="workout-info">
                    <h3 id="current-workout-title">Current Workout</h3>
                    <div class="workout-meta" id="workout-meta">Started now</div>
                </div>
                <div class="workout-actions">
                    <span id="completed-progress" style="color: var(--text-secondary); margin-right: 1rem;">0/0</span>
                    <button class="btn" id="change-workout-btn">
                        <i class="fas fa-exchange-alt"></i> Change
                    </button>
                    <button class="btn btn-primary" id="finish-workout-btn">
                        <i class="fas fa-check"></i> Finish
                    </button>
                </div>
            </div>

            <!-- Exercise List -->
            <div id="exercise-list" class="exercise-list"></div>
        </div>

        <!-- Hidden content for other tabs (keep your existing structure) -->
        <div id="history-tab" class="tab-content hidden">
            <!-- Your existing history tab content -->
        </div>

        <div id="plans-tab" class="tab-content hidden">
            <!-- Your existing plans tab content -->
        </div>
    </div>

    <!-- Sticky Rest Timer -->
    <div id="rest-timer-sticky" class="rest-timer-sticky">
        <div class="rest-timer-content">
            <div class="rest-timer-exercise" id="rest-timer-exercise">Rest Period</div>
            <div class="rest-timer-display" id="rest-timer-display">90s</div>
            <div class="rest-timer-controls">
                <button class="btn btn-small" id="pause-rest-btn">
                    <i class="fas fa-pause"></i>
                </button>
                <button class="btn btn-small" id="skip-rest-btn">
                    <i class="fas fa-forward"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Exercise Focus Modal -->
    <div id="exercise-modal" class="exercise-modal">
        <div class="exercise-modal-content">
            <div class="modal-header">
                <h3 id="modal-exercise-title">Exercise</h3>
                <button class="close-btn" id="close-exercise-modal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="exercise-unit-toggle">
                <div class="unit-toggle">
                    <button class="unit-btn active" data-unit="lbs">lbs</button>
                    <button class="unit-btn" data-unit="kg">kg</button>
                </div>
            </div>
            
            <div id="modal-exercise-content"></div>
        </div>
    </div>

    <!-- Workout Management Section -->
<div id="workout-management" class="hidden">
    <!-- Workout Template Editor -->
    <div class="management-header">
        <h2>Workout Management</h2>
        <div class="management-actions">
            <button class="btn btn-secondary" onclick="showWorkoutSelector()">
                <i class="fas fa-arrow-left"></i> Back to Workouts
            </button>
            <button class="btn btn-primary" onclick="createNewTemplate()">
                <i class="fas fa-plus"></i> New Template
            </button>
        </div>
    </div>

    <!-- Template List -->
    <div class="template-grid">
        <div id="template-list">
            <!-- Templates will be loaded here -->
        </div>
    </div>

    <!-- Current Template Editor -->
    <div id="template-editor" class="hidden">
        <div class="editor-header">
            <h3 id="editor-title">Edit Template</h3>
            <div class="editor-actions">
                <button class="btn btn-secondary" onclick="closeTemplateEditor()">Cancel</button>
                <button class="btn btn-success" onclick="saveCurrentTemplate()">
                    <i class="fas fa-save"></i> Save Template
                </button>
            </div>
        </div>

        <div class="template-form">
            <div class="form-row">
                <div class="form-group">
                    <label for="template-name">Template Name</label>
                    <input type="text" id="template-name" class="form-input" placeholder="e.g., My Chest Workout">
                </div>
                <div class="form-group">
                    <label for="template-category">Category</label>
                    <select id="template-category" class="form-input">
                        <option value="Push">Push (Chest, Shoulders, Triceps)</option>
                        <option value="Pull">Pull (Back, Biceps)</option>
                        <option value="Legs">Legs (Quads, Glutes, Hamstrings)</option>
                        <option value="Cardio">Cardio & Core</option>
                        <option value="Other">Other</option>
                    </select>
                </div>
            </div>

            <!-- Exercise List Editor -->
            <div class="exercise-editor">
                <div class="exercise-editor-header">
                    <h4>Exercises</h4>
                    <button class="btn btn-success btn-small" onclick="addExerciseToTemplate()">
                        <i class="fas fa-plus"></i> Add Exercise
                    </button>
                </div>
                <div id="template-exercises" class="template-exercise-list">
                    <!-- Template exercises will be loaded here -->
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Exercise Library Modal -->
<div id="exercise-library-modal" class="modal hidden">
    <div class="modal-content exercise-library-content">
        <div class="modal-header">
            <h3 class="modal-title">Exercise Library</h3>
            <button class="close-btn" onclick="closeExerciseLibrary()">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <!-- Search and Filters -->
        <div class="library-filters">
            <div class="filter-row">
                <input type="text" id="exercise-library-search" class="search-input" 
                       placeholder="Search exercises..." onkeyup="searchExerciseLibrary()">
            </div>
            <div class="filter-row">
                <select id="body-part-filter" class="form-input" onchange="filterExerciseLibrary()">
                    <option value="">All Body Parts</option>
                    <option value="Chest">Chest</option>
                    <option value="Back">Back</option>
                    <option value="Shoulders">Shoulders</option>
                    <option value="Arms">Arms</option>
                    <option value="Legs">Legs</option>
                    <option value="Core">Core</option>
                </select>
                <select id="equipment-filter" class="form-input" onchange="filterExerciseLibrary()">
                    <option value="">All Equipment</option>
                    <option value="Machine">Machine</option>
                    <option value="Cable">Cable</option>
                    <option value="Dumbbell">Dumbbell</option>
                    <option value="Barbell">Barbell</option>
                    <option value="Bodyweight">Bodyweight</option>
                </select>
                <button class="btn btn-primary" onclick="showCreateExerciseForm()">
                    <i class="fas fa-plus"></i> Create New
                </button>
            </div>
        </div>
        
        <!-- Exercise Grid -->
        <div id="exercise-library-grid" class="exercise-library-grid">
            <!-- Exercises will be loaded here -->
        </div>
    </div>
</div>

<!-- Create Exercise Modal -->
<div id="create-exercise-modal" class="modal hidden">
    <div class="modal-content">
        <div class="modal-header">
            <h3 class="modal-title">Create New Exercise</h3>
            <button class="close-btn" onclick="closeCreateExerciseModal()">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <form id="create-exercise-form" onsubmit="createNewExercise(event)">
            <div class="form-group">
                <label for="new-exercise-name">Exercise Name *</label>
                <input type="text" id="new-exercise-name" class="form-input" 
                       placeholder="e.g., Incline Dumbbell Press" required>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="new-exercise-body-part">Body Part</label>
                    <select id="new-exercise-body-part" class="form-input">
                        <option value="Chest">Chest</option>
                        <option value="Back">Back</option>
                        <option value="Shoulders">Shoulders</option>
                        <option value="Arms">Arms</option>
                        <option value="Legs">Legs</option>
                        <option value="Core">Core</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="new-exercise-equipment">Equipment</label>
                    <select id="new-exercise-equipment" class="form-input">
                        <option value="Machine">Machine</option>
                        <option value="Cable">Cable</option>
                        <option value="Dumbbell">Dumbbell</option>
                        <option value="Barbell">Barbell</option>
                        <option value="Bodyweight">Bodyweight</option>
                    </select>
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="new-exercise-sets">Default Sets</label>
                    <input type="number" id="new-exercise-sets" class="form-input" 
                           value="3" min="1" max="10">
                </div>
                
                <div class="form-group">
                    <label for="new-exercise-reps">Default Reps</label>
                    <input type="number" id="new-exercise-reps" class="form-input" 
                           value="10" min="1" max="50">
                </div>
                
                <div class="form-group">
                    <label for="new-exercise-weight">Starting Weight (lbs)</label>
                    <input type="number" id="new-exercise-weight" class="form-input" 
                           value="50" min="0" step="5">
                </div>
            </div>
            
            <div class="form-group">
                <label for="new-exercise-video">Form Video URL (optional)</label>
                <input type="url" id="new-exercise-video" class="form-input" 
                       placeholder="https://www.youtube.com/watch?v=...">
            </div>
            
            <div class="form-actions">
                <button type="button" class="btn btn-secondary" onclick="closeCreateExerciseModal()">
                    Cancel
                </button>
                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-plus"></i> Create Exercise
                </button>
            </div>
        </form>
    </div>
</div>

    <!-- Your existing modals can stay -->
    <!-- Exercise Swap Modal -->
    <!-- Add New Exercise Modal -->

    <script type="module" src="js/main.js"></script>

</body>
</html>